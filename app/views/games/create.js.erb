var game_id = '<%= @game.igdb_id %>';
var form = '<%= @collection.form %>';
var msg_type = '<%= @message_type %>';
var success = <%= !@errors.present? ? true : false %>;

if (msg_type) {
    UIkit.notification({
        message: '<%= @message %>',
        status: msg_type,
        pos: 'top-right',
        timeout: 5000
    });
}

if (success) {
    if ((form === 'collection') || (form === 'custom')) {
        var element = "#add-" + form + "-form-" + game_id;
        UIkit.dropdown(element).hide();
    } else {
        var element = "#add-" + form + "-form-" + game_id;
        $(element).hide();
        element = element.replace("add", "remove");
        $(element).show();
    }
}

var element = "#add-" + form + "-form-" + game_id + " .add-form-errors";
$(element).html("<%= escape_javascript(render partial: 'add_form_errors', locals: { errors: @errors }) %>");
