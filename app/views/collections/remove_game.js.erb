var msg_pos = 'top-right'

// Notifications position depends on offcanvas position
if ($('.uk-offcanvas-container').length) {
    var offc_class = $('.uk-offcanvas-container').attr('class');

    if (offc_class.includes('uk-offcanvas-flip')) {
        msg_pos = 'top-left';
    }
}

UIkit.notification({
    message: $('<div/>').html('<%= @message %>').text(),
    status: 'warning',
    pos: msg_pos,
    timeout: 5000
});

<% if @success %>
    var ids = [];
    var arr = $('.g-drop');
    arr.each(function() {
      if ( $( this ).attr('style') == 'display: block;' ) {
        ids.push($( this ).attr('id'));
      }
    });
    $("#big-c").html("<%= escape_javascript(render partial: 'panels_view/my_games_panels', locals: { collection: @collection }) %>");
    ids.forEach(id => $('#' + id).show());
<% end %>
