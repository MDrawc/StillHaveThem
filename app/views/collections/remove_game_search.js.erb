var msg_pos = 'top-right'

// Notifications position depends on offcanvas position
if ($('.uk-offcanvas-container').length) {
    var offc_class = $('.uk-offcanvas-container').attr('class');

    if (offc_class.includes('uk-offcanvas-flip')) {
        msg_pos = 'top-left';
    }
}

UIkit.notification({
    message: $('<div/>').html('<%= @message %>').text(),
    status: 'warning',
    pos: msg_pos,
    timeout: 5000
});

<% if @success %>
    var game_id = '<%= @game.igdb_id %>';
    var already = "#add-form-" + game_id + " .already-in";
    var proxy = "<%= j(render partial: 'cover_view/already_in', locals: { game_name: @game.name, igdb_id: @game.igdb_id }) %>";
    $(already).html(proxy);

    // Reseting error status upon succesful remove
    var element = '#add-form-' + game_id + ' .add-form-errors';
    $(element).html('');

    // Remove underline from removed game and change add-form link
    <% if @remove_underline %>
        var name_el = '#gs-' + game_id + ' .game-name span'
        $(name_el).removeClass('owned');
        var href = $('#add-' + game_id).attr('href');
        $('#add-' + game_id).attr('href', href.replace('true','false'));
    <% end %>

<% end %>
