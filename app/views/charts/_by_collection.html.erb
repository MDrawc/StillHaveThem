<% options = { legend: { position: 'left'},
              plugins: { datalabels: { color: '#fff', borderRadius: 9999, borderWidth: 2, borderColor: '#fff', anchor: 'end' } },
              layout: { padding: { top: 15, bottom: 15, right: 15 } }
              } %>
<% colors = get_colors(data[:data].size) %>
<% dataset_options = { datalabels: { backgroundColor: colors } } %>
<%= pie_chart data[:data],
id: 'moved-by-collection',
donut: true,
height: data[:height].to_s + 'px',
dataset: dataset_options,
library: options,
colors: colors,
messages: { empty: "No data" } %>
