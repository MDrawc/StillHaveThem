<% cookie = shared ? cookies[:sh_theme] : cookies[:theme] %>
<% if cookie != 'theme_dark' %>

  <% options = { legend: { position: 'right' },
                plugins: { datalabels: { color: '#fff', borderRadius: 9999, borderWidth: 2, borderColor: '#fff', anchor: 'end' } },
                layout: { padding: { top: 15, bottom: 15 } },
                rotation: -3
                } %>

  <% colors = ['#49AB8a', '#bababa'] %>

  <% dataset_options = { datalabels: { backgroundColor: colors } } %>

<% else %>

<% options = { legend: { position: 'right', labels: { fontColor: '#ccc' } },
              plugins: { datalabels: { color: '#fff', borderRadius: 9999, borderWidth: 2, borderColor: '#ccc', anchor: 'end' } },
              layout: { padding: { top: 15, bottom: 15 } },
              rotation: -3
              } %>

  <% colors = ['#5759a9', '#666'] %>

  <% dataset_options = { datalabels: { backgroundColor: colors }, borderColor: '#ccc' } %>

<% end %>

<%= pie_chart data,
  id: 'first-chart',
  donut: true,
  width: '400px', height: '200px',
  dataset: dataset_options,
  library: options,
  colors: colors,
  messages: { empty: "No data" }
%>
